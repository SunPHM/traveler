<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
  	<title>Traveler Project</title>
	<link rel="stylesheet" type="text/css" href="css/tr.css">
</head>

<body>
	<div id="ThreeJS" style="position: absolute; left:0px; top:0px"></div>

	<!--javascript library -->	
	<script src="js/Three.js"></script>
	<script src="js/Detector.js"></script>
	<script src="js/Stats.js"></script>
	<script src="js/OrbitControls.js"></script>
	<script src="js/THREEx.KeyboardState.js"></script>
	<script src="js/THREEx.FullScreen.js"></script>
	<script src="js/THREEx.WindowResize.js"></script>
		
	<script>
		// ThreeJS global variables
		var scene, camer, renderer;
		// init and animate
		initThreeJS();
		animate();
		
		//Functions
		function initThreeJS()
		{
			// SCENE
			scene = new THREE.Scene();
			// CAMERA
			var width = window.innerWidth, height = window.innerHeight;
			var angle = 45, aspect = width / height, near = 0.1, far = 20000;
			camera = new THREE.PerspectiveCamera(angle, aspect, near, far);
			scene.add(camera);
			camera.position.set(0, 150, 400);
			camera.lookAt(scene.position);	
			// RENDERER
			if ( Detector.webgl )
				renderer = new THREE.WebGLRenderer( {antialias:true} );
			else
				renderer = new THREE.CanvasRenderer(); 
			renderer.setSize(SCREEN_WIDTH, SCREEN_HEIGHT);
			
		}
		
		function onDocumentMouseMove( event ) 
		{
			// the following line would stop any other event handler from firing
			// (such as the mouse's TrackballControls)
			// event.preventDefault();
			// update sprite position
			sprite1.position.set( event.clientX, event.clientY - 20, 0 );
			
			// update the mouse variable
			mouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;
			mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;
			//if(startShowingText==1)
			//{
				update();
			//}
		}
		
		function animate() 
		{
			requestAnimationFrame( animate );
			render();
		}
		
		function render() 
		{
			renderer.render( scene, camera );
		}
		
		function displayText()
		{
			update();	
		}
		
		function update()
		{
			//Capture Mouse Location
			var x = mouse.x;
			var y = mouse.y;
			
			var message="default";
			
			windowWidth = window.innerWidth;
			windowHeight = window.innerHeight;
			
			//Origin - English
			if(((x>=-0.3) && (x<=0.3)) && ((y>=-0.3)&&(y<=0.3)))
			{
				message = "Easy come, easy go.";
			}
			//1st Quadrant - Chinese
			else if(((x>=0) && (x<=1)) && ((y>=0) &&(y<=1)))
			{
				message = "来得容易，去得快。";
			}
			//2nd Quadrant - Russian
			else if(((x<=0) && (x>=-1) && (y<=1) && (y>=0)))
			{
				message = "Бог дал, Бог взял.";
			}
			
			//3rd Quadrant - Hindi
			else if(((x<=1) && (x>=0)) && ((y>=-1) && (y<=0)))
			{
				message = "आसान में आओ, आसान जाओ।";
			}
			
			//4th Quadrant - Arabic
			else if(((x>=-1) && (x<=0)) && ((y>=-1) && (y<=0)))
			{
				message = "تأتي من السهل، من السهل الذهاب.";
			}
			
			else
			{
			message="default";
			}
			
						context1.clearRect(0,0,640,480);
						//var message = "Mouse Move Test";
						var metrics = context1.measureText(message);
						var width = metrics.width;
						context1.fillStyle = "rgba(0,0,0,0.95)"; // black border
						context1.fillRect( 0,0, width+20,20+8);
						context1.fillStyle = "rgba(255,255,255,0.95)"; // white filler
						context1.fillRect( 2,2, width+16,20+4 );
						context1.fillStyle = "rgba(0,0,0,1)"; // text color
						context1.fillText( message, 4,20 );
						texture1.needsUpdate = true;
					
			
			//controls.update();
			stats.update();
		}
	</script>	
</body>
</html>
